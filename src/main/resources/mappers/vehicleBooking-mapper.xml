<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="vehicleBooking">
	<!-- 차량 예약 추가 -->
	<insert id="vehicleBookingInsert" parameterType="com.wit.dto.VehicleBookingDTO">
		insert into vehicle_booking
		values (
		vehicle_booking_seq.nextval,
		#{emp_no},
		#{dept_title},
		#{name},	
		#{vehicle_seq},
		#{start_date},
		#{end_date},
		#{passenger},
		#{purpose}
		)
	</insert>
	
	<!-- 차량 목록 조회 -->
	<select id="getVehicleList" resultType="com.wit.dto.VehiclesDTO">
		select vehicle_seq, name from vehicles
	</select>
	
	<!-- 차량별 예약 조회 -->
	<select id="getVehicleInfo" resultType="com.wit.dto.VehiclesDTO">
		select * from vehicles where vehicle_seq = #{vehicleSeq}
	</select>
		
	<!-- 해당 차량의 모든 예약 정보를 조회 -->
	<select id="getAllVehicleBooking" resultType="com.wit.dto.VehicleBookingDTO">
    select * from vehicle_booking where vehicle_seq = #{vehicle_seq}
	</select>

	<!-- 직원 정보 조회 -->
	<select id="employeeInfo" resultType="com.wit.dto.EmployeeDTO">
		SELECT name
		FROM Employee
		WHERE emp_no = #{empNo}
	</select>
</mapper>